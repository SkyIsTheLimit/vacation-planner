<!--
  Generated template for the TripDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{ trip.title }}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>
  <section>
    <img src="https://static.pexels.com/photos/481178/pexels-photo-481178.jpeg" alt="">
  </section>

  <ion-grid>
    <ion-row>
      <ion-col text-center>
        <ion-icon name="heart-outline" (click)="addToMyTrips()" *ngIf="!trip.isAddedToMyTrips"></ion-icon>
        <ion-icon name="heart" (click)="addToMyTrips()" *ngIf="trip.isAddedToMyTrips" style="color: red;"></ion-icon>
      </ion-col>
      <ion-col text-center>
        <ion-icon name="logo-usd"></ion-icon>
      </ion-col>
      <ion-col text-center>
        <ion-icon name="people"></ion-icon>
      </ion-col>
      <ion-col text-center>
        <ion-icon name="book"></ion-icon>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <h2>Flight Info</h2>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <div style="font-size:12px; color: grey; white-space: pre-wrap;">{{leg.carrier}} <b>{{leg.flightNumber}}</b></div>
        <br>
        <div style="display:flex;">
          <div style="flex:5; text-align:right;">
            <div>{{leg.origin}} <b>{{leg.departure.time.hours}}:{{leg.departure.time.mins}}</b></div>
            <div style="font-size:12px; color: grey">{{leg.departure.date.day}}, {{leg.departure.date.date}} {{leg.departure.date.month}}</div>
            <div style="font-size:12px; color: grey; white-space: pre-wrap;">{{leg.originAirport}}, {{leg.originCity}}</div>
          </div>
          <div align="center" style="flex:1; padding:0px 15px 15px 15px;">
            <ion-icon ios="ios-time-outline" md="md-time"></ion-icon>
            <div style="font-size:9px; color: grey">{{leg.duration}} m</div>
          </div>
          <div style="flex:5; text-align:left;">
            <div>{{leg.destination}} <b>{{leg.arrival.time.hours}}:{{leg.arrival.time.hours}}</b></div>
            <div style="font-size:12px; color: grey">{{leg.arrival.date.day}}, {{leg.arrival.date.date}} {{leg.arrival.date.month}}</div>
            <div style="font-size:12px; color: grey; white-space: pre-wrap;">{{leg.destinationAirport}}, {{leg.destinationCity}}</div>
          </div>
        </div>
        <!-- Display connect duration here in case it is not a non-stop flight-->
        <br>
        <div *ngIf="leg.connectionDuration">
          <hr>
          <div align="center" style="font-size:12px; color: grey;">
            <label>Layover: {{leg.connectionDuration}}m</label>
          </div>
        </div>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-datetime displayFormat="MMM DD YYYY" style="color: blue" [(ngModel)]="trip.startDate"></ion-datetime>
      </ion-col>
      <ion-col>
        <ion-datetime displayFormat="MMM DD YYYY" style="color: blue" [(ngModel)]="trip.endDate"></ion-datetime>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <h2>Hotel Info</h2>
      </ion-col>
    </ion-row>

    <ion-row>
      <img src="https://placekitten.com/200/200" alt="" width="72" height="72" />

      <div style="float: left; width: 70%; padding-left: 10px;">
        <h3 style="margin-top: 0; margin-bottom: 0">{{ trip.hotel.name }}</h3>
        <p style="margin-top: 0; margin-bottom: 0">{{ trip.hotel.location }}, {{ trip.hotel.city }}</p>
      </div>
    </ion-row>

    <ion-row>
      <ion-col>
        <!-- <h3>Things to Do</h3> -->
        <h3>Nearby Places</h3>
        <!-- <h3>Places to Eat</h3> -->

        <ion-list>
          <ion-item *ngFor="let place of trip.nearbyPlaces">
            <ion-thumbnail item-start>
              <img [src]="place.icon">
            </ion-thumbnail>
            <h2>{{ place.name }}</h2>
            <p>{{ place.vicinity }}</p>
          </ion-item>
        </ion-list>

      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
